<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Catálogo de Canciones · UltraStar</title>
<meta content="Catálogo ordenado por artista con buscador en vivo, QR para compartir y cola remota de peticiones." name="description"/>
<style>
    :root {
      --bg: #0b0c10;
      --panel: #111218;
      --accent: #7c4dff;
      --text: #e6e6e6;
      --muted: #a5a5a5;
      --chip: #1b1d29;
      --border: #232436;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: radial-gradient(1200px 600px at 10% -10%, #17192a, transparent), var(--bg);
      color: var(--text);
      line-height: 1.45;
    }
    header {
      position: sticky; top: 0; z-index: 10;
      background: linear-gradient(180deg, rgba(11,12,16,0.95), rgba(11,12,16,0.7) 80%, transparent);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid var(--border);
    }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 20px; }
    .title { display:flex; align-items:center; gap:12px; flex-wrap: wrap; }
    .badge {
      background: linear-gradient(120deg, var(--accent), #3d9eff);
      color: white; padding: 6px 10px; border-radius: 999px; font-weight: 600; font-size: 12px;
      letter-spacing: .4px;
    }
    .searchbar {
      margin-top: 14px; display:flex; gap:10px; flex-wrap: wrap;
    }
    .searchbar input[type="text"] {
      flex: 1;
      min-width: 240px;
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: var(--panel);
      color: var(--text);
      outline: none;
      font-size: 16px;
    }
    .searchbar .controls {
      display:flex; gap:10px; align-items:center; flex-wrap: wrap;
    }
    .btn {
      background: var(--chip);
      color: var(--text);
      border: 1px solid var(--border);
      padding: 10px 12px; border-radius: 12px; cursor: pointer;
      font-weight: 600; font-size: 14px;
    }
    .btn:hover { border-color: #2f3150; }
    .select {
      background: var(--panel); border:1px solid var(--border); color:var(--text);
      padding: 10px 12px; border-radius: 12px; font-size: 14px;
    }
    main .grid {
      display: grid; grid-template-columns: repeat(1, minmax(0, 1fr)); gap: 12px; margin-top: 18px;
    }
    @media (min-width: 640px) {
      main .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (min-width: 1024px) {
      main .grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    .card { cursor: pointer;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent 80%), var(--panel);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      transition: transform .12s ease, border-color .12s ease;
    }
    .card:hover { transform: translateY(-2px); border-color: #2f3150; }
    .artist { font-weight: 700; letter-spacing: .2px; }
    .title-txt { color: var(--muted); margin-top: 2px; }
    .meta { display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
    .chip { background: var(--chip); border:1px solid var(--border); padding:4px 8px; border-radius:999px; font-size:12px; color:var(--muted); }
    footer {
      margin-top: 30px; padding: 30px 0; border-top:1px solid var(--border); color: var(--muted);
    }
    details { background: #0f111a; border:1px solid var(--border); border-radius:12px; padding: 12px; }
    details summary { cursor: pointer; font-weight: 600; }
    .qr-wrap { display:flex; align-items:center; gap:14px; flex-wrap: wrap; }
    #qrcode { padding: 8px; background: white; border-radius: 12px; }
    .small { font-size: 12px; color: var(--muted); }
    .right { margin-left: auto; }
    .highlight { color: #b7c5ff; }
  </style>
</head>
<body>
<header>
<div class="wrap">
<div class="title">
<span class="badge">UltraStar</span>
<h1 style="margin:0">Catálogo de canciones</h1>
<span class="small">buscador en vivo · QR · cola remota (opcional)</span>
</div>
<div class="searchbar">
<input autofocus="" id="search" placeholder="Buscar por artista o título…" type="text"/>
<div class="controls">
<label>Ordenar por
            <select class="select" id="sort">
<option value="artist">Artista (A–Z)</option>
<option value="title">Título (A–Z)</option>
</select>
</label>
<button class="btn" id="clear" type="button">Limpiar</button>
<button class="btn right" id="share" type="button">Compartir</button>
</div>
</div>
</div>
</header>
<main class="wrap">
<div class="qr-wrap" style="margin-top:6px;">
<div id="qrcode" title="Escanéame para abrir este catálogo"></div>
<div>
<div class="small">Escanea el QR para abrir este catálogo. También puedes <a href="#" id="copyLink" style="color:#9ecbff">copiar el enlace</a>.</div>
<div class="small">El QR se actualiza con el término de búsqueda para compartir filtros.</div>
</div>
</div>
<section id="list">
<div class="grid" id="grid"></div>
<div class="small" id="empty" style="display:none; margin-top:12px;">No hay resultados para tu búsqueda.</div>
</section>

</main>

<section class="wrap" id="queue" style="margin-top:24px;">
<h3>Cola actual</h3>
<ul id="queueList"></ul>
</section>
<button id="scrollToQueue" style="position:fixed;bottom:20px;right:20px;padding:10px 14px;background:#7c4dff;color:#fff;border:none;border-radius:10px;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,.35);z-index:1000;">Ver cola</button>
<script>
  document.getElementById('scrollToQueue').addEventListener('click', () => {
    document.getElementById('queue').scrollIntoView({ behavior: 'smooth' });
  });
</script>
<footer class="wrap small">Generado automáticamente · Puedes guardar este archivo y abrirlo en cualquier sitio.</footer>
<!-- Datos embebidos desde tu CSV -->
<script id="data" type="application/json">[{"artist": "a-ha", "title": "Take on me"}, {"artist": "ABBA", "title": "Dancing Queen"}, {"artist": "ABBA", "title": "Gimme! Gimme! Gimme! (A Man After Midnight)"}, {"artist": "ABBA", "title": "Mamma Mia"}, {"artist": "ABBA", "title": "Money Money Money"}, {"artist": "ABBA", "title": "Super Trouper"}, {"artist": "ABBA", "title": "Waterloo"}, {"artist": "AC/DC", "title": "Highway To Hell"}, {"artist": "AC/DC", "title": "T.N.T. (Live)"}, {"artist": "Adele", "title": "Someone Like You"}, {"artist": "Adele", "title": "Someone Like You (Studio)"}, {"artist": "Aerosmith", "title": "Dream on"}, {"artist": "Aerosmith", "title": "I don't want to miss a thing"}, {"artist": "Aladdn", "title": "Un mundo ideal"}, {"artist": "Alaska y Dinarama", "title": "A quin le importa"}, {"artist": "Amaral", "title": "El universo sobre mi"}, {"artist": "Amaral", "title": "Marta, Sebas, Guille y los dems"}, {"artist": "Amy Winehouse", "title": "Back To Black"}, {"artist": "Antonio Flores", "title": "No dudara"}, {"artist": "Aqua", "title": "Barbie Girl"}, {"artist": "Aventura ft. Don Omar", "title": "Ella y yo"}, {"artist": "Avicii", "title": "Hey brother"}, {"artist": "Avicii", "title": "Wake Me Up!"}, {"artist": "Avril Lavigne", "title": "Complicated"}, {"artist": "Avril Lavigne", "title": "Girlfriend"}, {"artist": "Avril Lavigne", "title": "Sk8er Boi"}, {"artist": "Bacilos", "title": "Caraluna"}, {"artist": "Backstreet Boys", "title": "Everybody (Backstreet's Back)"}, {"artist": "Backstreet Boys", "title": "I Want It That Way"}, {"artist": "Bee Gees", "title": "Stayin' Alive"}, {"artist": "Beyonc", "title": "Single ladies (Put a ring on it)"}, {"artist": "Beyonce", "title": "Crazy In Love"}, {"artist": "Bizarrap & Arcngel", "title": "Arcngel: Bzrp Music Sessions, Vol. 54"}, {"artist": "Black Eyed Peas", "title": "I Gotta Feeling"}, {"artist": "Blink 182", "title": "All the small things"}, {"artist": "Blondie", "title": "One way or another"}, {"artist": "Bob Marley", "title": "Get Up, Stand Up"}, {"artist": "Bob Marley", "title": "No Woman No Cry"}, {"artist": "Bob Marley & the Wailers", "title": "Could you be loved"}, {"artist": "Bon Jovi", "title": "Livin' on a Prayer"}, {"artist": "Bon Jovi", "title": "You Give Love A Bad Name"}, {"artist": "Britney Spears", "title": "Baby One More Time"}, {"artist": "Britney Spears", "title": "Oops! I did it again"}, {"artist": "Cali y El Dandee", "title": "Yo te esperar"}, {"artist": "Calle 13", "title": "Atrvete, te, te!"}, {"artist": "Camela", "title": "Cuando zarpa el amor"}, {"artist": "Camilo Sesto", "title": "Vivir así es morir de amor"}, {"artist": "Camp Rock", "title": "This Is Me"}, {"artist": "Campeones: Oliver y Benji", "title": "Oliver y Benji"}, {"artist": "Carlos Baute", "title": "Te regalo"}, {"artist": "Carlos Baute y Marta Snchez", "title": "Colgando en tus manos"}, {"artist": "Carly Rae Jepsen", "title": "Call Me Maybe"}, {"artist": "Celia Cruz", "title": "La vida es un carnaval"}, {"artist": "Celtas Cortos", "title": "20 de abril"}, {"artist": "Celtas Cortos", "title": "Cuentame un cuento"}, {"artist": "Chayanne", "title": "Salom"}, {"artist": "Chayanne", "title": "Torero"}, {"artist": "Chenoa", "title": "Cuando t vas"}, {"artist": "Cher", "title": "Believe"}, {"artist": "Chino & Nacho", "title": "Nia bonita"}, {"artist": "Chocolate", "title": "Mayonesa"}, {"artist": "Coti", "title": "Antes Que Ver El Sol"}, {"artist": "Coti y Andrs Calamaro", "title": "Nada fue un error"}, {"artist": "Coyote Dax", "title": "No rompas ms"}, {"artist": "Daddy Yankee", "title": "Ella me levant"}, {"artist": "Daddy Yankee", "title": "La despedida"}, {"artist": "Daddy Yankee", "title": "La nueva y la ex"}, {"artist": "Daddy Yankee", "title": "Limbo"}, {"artist": "Daddy Yankee", "title": "Llamado de emergencia"}, {"artist": "Daddy Yankee", "title": "Lo que pas, pas"}, {"artist": "Daft Punk", "title": "Get Lucky"}, {"artist": "David Bisbal", "title": "Ave Mara"}, {"artist": "David Bisbal", "title": "Bulera"}, {"artist": "David Bisbal", "title": "Corazn latino"}, {"artist": "David Bisbal feat Knaan", "title": "Waving Flag"}, {"artist": "David Bustamante y lex Casademunt", "title": "Dos hombres y un destino"}, {"artist": "David Civera", "title": "Bye Bye"}, {"artist": "Demi Lovato", "title": "Let It Go"}, {"artist": "Depeche Mode", "title": "Personal Jesus"}, {"artist": "Despistaos", "title": "Fsica o qumica"}, {"artist": "Diego Torres", "title": "Color esperanza"}, {"artist": "Don Omar", "title": "Dile"}, {"artist": "Don Omar", "title": "Hasta que salga el sol"}, {"artist": "Don Omar", "title": "Virtual diva (Versin mambo)"}, {"artist": "Don Omar & Lucenzo", "title": "Danza Kuduro"}, {"artist": "Dragon Ball Z", "title": "Luz, fuego, destruccin"}, {"artist": "Duncan Dhu", "title": "Cien gaviotas"}, {"artist": "Ed Sheeran", "title": "Perfect"}, {"artist": "Ed Sheeran", "title": "The A Team"}, {"artist": "El Arrebato", "title": "Bscate Un Hombre Que Te Quiera"}, {"artist": "El Canto del Loco", "title": "Besos"}, {"artist": "El Canto del Loco", "title": "Eres tonto"}, {"artist": "El Canto del Loco", "title": "Insoportable"}, {"artist": "El Canto del Loco", "title": "La madre de Jos"}, {"artist": "El Canto del Loco", "title": "Peter Pan"}, {"artist": "El Canto del Loco", "title": "Volver"}, {"artist": "El Canto Del Loco", "title": "Zapatillas"}, {"artist": "El Koala", "title": "Op, yo viaz un corr"}, {"artist": "El Sueo de Morfeo", "title": "Nunca volver"}, {"artist": "Elvis Crespo", "title": "Pntame"}, {"artist": "Elvis Crespo", "title": "Suavemente"}, {"artist": "Elvis Presley", "title": "Can't help falling in love"}, {"artist": "Estopa", "title": "Como Camarn"}, {"artist": "Estopa", "title": "La raja de tu falda"}, {"artist": "Estopa", "title": "Vacaciones"}, {"artist": "Estopa", "title": "Vino tinto"}, {"artist": "Evanescence", "title": "Bring Me to Life"}, {"artist": "Extremoduro", "title": "Salir"}, {"artist": "Fito y Fitipaldis", "title": "Antes de que cuente diez"}, {"artist": "Fito y Fitipaldis", "title": "La casa por el tejado"}, {"artist": "Fito Y Fitipaldis", "title": "Por La Boca Vive El Pez"}, {"artist": "Fito y Fitipaldis", "title": "Soldadito marinero"}, {"artist": "Frank Sinatra", "title": "My Way"}, {"artist": "Gente de Zona y Marc Anthony", "title": "La gozadera"}, {"artist": "George Michael", "title": "Careless Whisper"}, {"artist": "Gorillaz", "title": "Feel Good Inc."}, {"artist": "Gotye & Kimbra", "title": "Somebody That I Used To Know"}, {"artist": "Grease (John Travolta & Olivia Newton-John)", "title": "You're the One that I Want"}, {"artist": "Green Day", "title": "21 guns"}, {"artist": "Green Day", "title": "American Idiot"}, {"artist": "Green Day", "title": "Basket Case"}, {"artist": "Green Day", "title": "Boulevard of Broken Dreams"}, {"artist": "Green Day", "title": "Holiday"}, {"artist": "Green Day", "title": "Wake Me Up When September Ends"}, {"artist": "High School Musical", "title": "We're All In This Together"}, {"artist": "High School Musical 2", "title": "Bet On It"}, {"artist": "High School Musical 2", "title": "Fabulous"}, {"artist": "High School Musical 2", "title": "I Don't Dance"}, {"artist": "High School Musical 2", "title": "What Time Is It?"}, {"artist": "High School Musical 2", "title": "You Are the Music in Me"}, {"artist": "Hombres G", "title": "Devulveme A Mi Chica"}, {"artist": "Hrcules", "title": "De cero a hroe"}, {"artist": "Hroes del Silencio", "title": "Avalancha"}, {"artist": "Hroes del Silencio", "title": "Entre dos tierras"}, {"artist": "James Brown", "title": "I Feel Good"}, {"artist": "Jarabe de Palo", "title": "Bonito"}, {"artist": "Jarabe de Palo", "title": "La Flaca"}, {"artist": "Joan Manuel Serrat", "title": "Mediterrneo"}, {"artist": "Joaqun Sabina", "title": "19 das y 500 noches"}, {"artist": "Joaqun Sabina", "title": "Por el bulevar de los sueos rotos"}, {"artist": "John Denver", "title": "Take Me Home, Country Roads"}, {"artist": "Jos Luis Perales", "title": "Y cmo es l?"}, {"artist": "Journey", "title": "Don't Stop Believing"}, {"artist": "Juan Luis Guerra", "title": "A pedir su mano"}, {"artist": "Juan Luis Guerra", "title": "El Nigara en bicicleta"}, {"artist": "Juan Luis Guerra", "title": "La bilirrubina"}, {"artist": "Juan Luis Guerra", "title": "Las avispas"}, {"artist": "Juan Luis Guerra", "title": "Ojal que llueva caf"}, {"artist": "Juan Magan", "title": "Ella no sigue modas"}, {"artist": "Juanes", "title": "A Dios le pido"}, {"artist": "Juanes", "title": "La camisa negra"}, {"artist": "Julio Iglesias", "title": "Soy un truhn, soy un seor"}, {"artist": "Justin Bieber", "title": "One Less Lonely Girl"}, {"artist": "Justin Bieber & Jaden Smith", "title": "Never Say Never"}, {"artist": "Justin Bieber & Ludacris", "title": "Baby"}, {"artist": "Justin Timberlake", "title": "Mirrors"}, {"artist": "KAROL G", "title": "Si antes te hubiera conocido"}, {"artist": "Karol G y Nicki Minaj", "title": "Tusa"}, {"artist": "Katy Perry", "title": "The One That Got Away"}, {"artist": "Ke$ha", "title": "Tik Tok"}, {"artist": "King frica", "title": "La Bomba"}, {"artist": "Kiss", "title": "Rock and Roll All Nite"}, {"artist": "La Guardia", "title": "Cuando brille el sol"}, {"artist": "La Mosca Tse Tse", "title": "Para No Verte Ms"}, {"artist": "La Quinta Estacin", "title": "El sol no regresa"}, {"artist": "La Sirenita", "title": "Bajo el mar"}, {"artist": "La Unin", "title": "Lobo-hombre en Pars"}, {"artist": "Lady GaGa", "title": "Alejandro"}, {"artist": "Lady GaGa", "title": "Bad Romance"}, {"artist": "Lady GaGa", "title": "Born This Way"}, {"artist": "Lady GaGa", "title": "Judas"}, {"artist": "Lady Gaga", "title": "Poker Face"}, {"artist": "Lady GaGa feat. Colby O'Donis", "title": "Just Dance"}, {"artist": "Lady Gaga, Bradley Cooper", "title": "Shallow"}, {"artist": "Linkin Park", "title": "Crawling"}, {"artist": "Linkin Park", "title": "In The End"}, {"artist": "Linkin Park", "title": "Numb"}, {"artist": "Linkin Park", "title": "What I've done"}, {"artist": "LMFAO, Lauren Bennett & Goon Rock", "title": "Party Rock Anthem"}, {"artist": "Lola ndigo, TINI & Belinda", "title": "La nia de la escuela"}, {"artist": "Los Lobos", "title": "La bamba"}, {"artist": "Los Sabandeos", "title": "Islas Canarias"}, {"artist": "Lou Bega", "title": "Mambo No. 5"}, {"artist": "Luis Fonsi", "title": "No me doy por vencido"}, {"artist": "Luis Miguel", "title": "Ahora te puedes marchar"}, {"artist": "Luis Miguel", "title": "Entrgate"}, {"artist": "Luis Miguel", "title": "La chica del bikini azul"}, {"artist": "Luis Miguel", "title": "Por debajo de la mesa"}, {"artist": "Luis Miguel", "title": "Reloj"}, {"artist": "Luis Miguel", "title": "Suea"}, {"artist": "M-Clan", "title": "Carolina"}, {"artist": "M-Clan", "title": "Llamando a la Tierra"}, {"artist": "M-Clan", "title": "Sopa fra"}, {"artist": "Man", "title": "Clavado en un bar"}, {"artist": "Man", "title": "El rey tiburn"}, {"artist": "Man", "title": "En el muelle de San Blas"}, {"artist": "Man", "title": "Labios compartidos"}, {"artist": "Man", "title": "Rayando el sol"}, {"artist": "Man", "title": "Se me olvido otra vez"}, {"artist": "Manuel Turizo", "title": "La bachata"}, {"artist": "Manuel Turizo con Marshmello", "title": "El merengue"}, {"artist": "Marc Anthony", "title": "Ahora quien (salsa)"}, {"artist": "Marc Anthony", "title": "Vali la pena"}, {"artist": "Marc Anthony", "title": "Vivir mi vida"}, {"artist": "Marc Anthony", "title": "Y cmo es l"}, {"artist": "Maroon 5 feat. Wiz Khalifa", "title": "Payphone"}, {"artist": "Mecano", "title": "Hoy no me puedo levantar"}, {"artist": "Melendi", "title": "Caminando por la vida"}, {"artist": "Melendi", "title": "Hablando en plata"}, {"artist": "Melendi", "title": "Kisiera Yo Saber"}, {"artist": "Melendi", "title": "Un violinista en tu tejado"}, {"artist": "Metallica", "title": "Master of Puppets"}, {"artist": "Mgo de Oz", "title": "Fiesta pagana"}, {"artist": "Michael Jackson", "title": "Beat It"}, {"artist": "Michael Jackson", "title": "Billie Jean"}, {"artist": "Michael Jackson", "title": "Black or white"}, {"artist": "Michael Jackson", "title": "Smooth Criminal"}, {"artist": "Miguel Bos", "title": "Amante Bandido"}, {"artist": "Miguel Bos", "title": "Morenama"}, {"artist": "Miguel Bos y Bimba Bos", "title": "Como un lobo"}, {"artist": "Miguel Ros", "title": "Bienvenidos"}, {"artist": "Miguel Ros", "title": "Santa Luca"}, {"artist": "Mika", "title": "Grace Kelly"}, {"artist": "Miley Cyrus", "title": "Party In The U.S.A"}, {"artist": "Miley Cyrus", "title": "The Climb"}, {"artist": "Miley Cyrus", "title": "We Can't Stop"}, {"artist": "Miley Cyrus", "title": "Wrecking Ball"}, {"artist": "Muln", "title": "Todo un hombre har de ti"}, {"artist": "Natasha Bedingfield", "title": "Unwritten"}, {"artist": "Nena Daconte", "title": "Tena tanto que darte"}, {"artist": "Nickelback", "title": "How You Remind Me"}, {"artist": "Nirvana", "title": "Smells Like Teen Spirit"}, {"artist": "One Direction", "title": "Story Of My Life"}, {"artist": "One Direction", "title": "What Makes You Beautiful"}, {"artist": "Pereza", "title": "Estrella polar"}, {"artist": "Pereza", "title": "Princesas"}, {"artist": "Pignoise", "title": "Nada que perder"}, {"artist": "Pitbull", "title": "I Know You Want Me (Calle Ocho)"}, {"artist": "Pokemon", "title": "Pokemon"}, {"artist": "Psy", "title": "Gangnam Style"}, {"artist": "Queen", "title": "Another One Bites the Dust"}, {"artist": "Queen", "title": "Bohemian Rhapsody"}, {"artist": "Queen", "title": "Crazy Little Thing Called Love"}, {"artist": "Queen", "title": "I Want It All"}, {"artist": "Queen", "title": "I Want to Break Free"}, {"artist": "Queen", "title": "Radio Ga Ga"}, {"artist": "Queen", "title": "Somebody to Love"}, {"artist": "Queen", "title": "We Will Rock You"}, {"artist": "Quevedo con Bizarrap", "title": "Music Sessions #52"}, {"artist": "Radio Futura", "title": "Escuela de calor"}, {"artist": "Rammstein", "title": "Du Hast"}, {"artist": "Raphael", "title": "Yo soy aqul"}, {"artist": "Red Hot Chili Peppers", "title": "Dani California"}, {"artist": "Rfaga", "title": "Mentirosa"}, {"artist": "Rick Astley", "title": "Never gonna give you up"}, {"artist": "Ricky Martin", "title": "Livin' la vida loca"}, {"artist": "Ricky Martin", "title": "No importa la distancia"}, {"artist": "Rihanna", "title": "Diamonds"}, {"artist": "Rihanna", "title": "Disturbia"}, {"artist": "Rihanna", "title": "Don't stop the music"}, {"artist": "Rihanna", "title": "Umbrella"}, {"artist": "Rosala", "title": "Despech"}, {"artist": "ROSALÍA", "title": "MALAMENTE (Cap.1 Augurio)"}, {"artist": "ROSALÍA", "title": "PIENSO EN TU MIRÁ (Cap.3 Celos)"}, {"artist": "Rubn Blades", "title": "Pedro navaja"}, {"artist": "Sabrina Carpenter", "title": "Espresso"}, {"artist": "Seguridad Social", "title": "Quiero tener tu presencia"}, {"artist": "Shakira ft. Freshlyground", "title": "Waka waka (Esto es frica)"}, {"artist": "Ska-P", "title": "Cannabis"}, {"artist": "Ska-P", "title": "El vals del obrero"}, {"artist": "Spice Girls", "title": "Wannabe"}, {"artist": "System of a Down", "title": "Chop Suey!"}, {"artist": "Tarzn", "title": "Dos mundos"}, {"artist": "Tarzn", "title": "Hijo de hombre"}, {"artist": "Taylor Swift", "title": "22"}, {"artist": "Taylor Swift", "title": "All Too Well"}, {"artist": "Taylor Swift", "title": "Anti-Hero"}, {"artist": "Taylor Swift", "title": "Back To December"}, {"artist": "Taylor Swift", "title": "Bad Blood"}, {"artist": "Taylor Swift", "title": "Better Than Revenge"}, {"artist": "Taylor Swift", "title": "Blank Space"}, {"artist": "Taylor Swift", "title": "Change"}, {"artist": "Taylor Swift", "title": "Crazier"}, {"artist": "Taylor Swift", "title": "Cruel Summer"}, {"artist": "Taylor Swift", "title": "Dear John"}, {"artist": "Taylor Swift", "title": "Forever And Always"}, {"artist": "Taylor Swift", "title": "I Knew You Were Trouble"}, {"artist": "Taylor Swift", "title": "I'm Only Me When I'm With You"}, {"artist": "Taylor Swift", "title": "Lavender Haze"}, {"artist": "Taylor Swift", "title": "Love Story"}, {"artist": "Taylor Swift", "title": "Mean"}, {"artist": "Taylor Swift", "title": "Mine"}, {"artist": "Taylor Swift", "title": "Our Song"}, {"artist": "Taylor Swift", "title": "Out Of The Woods"}, {"artist": "Taylor Swift", "title": "Picture to Burn"}, {"artist": "Taylor Swift", "title": "Red"}, {"artist": "Taylor Swift", "title": "Safe and Sound"}, {"artist": "Taylor Swift", "title": "Sparks Fly"}, {"artist": "Taylor Swift", "title": "Starlight"}, {"artist": "Taylor Swift", "title": "We Are Never Ever Getting Back Together"}, {"artist": "Taylor Swift", "title": "White Horse"}, {"artist": "Taylor Swift", "title": "willow"}, {"artist": "Taylor Swift", "title": "You Belong With Me"}, {"artist": "Taylor Swift", "title": "You need to calm down"}, {"artist": "Teddy Swims", "title": "Lose Control"}, {"artist": "The Cranberries", "title": "Zombie"}, {"artist": "The Eagles", "title": "Hotel California"}, {"artist": "The Police", "title": "Every Breath You Take"}, {"artist": "Tonny Tun Tun", "title": "Cuando acaba el placer"}, {"artist": "Toto", "title": "Africa"}, {"artist": "Toto", "title": "Hold The Line"}, {"artist": "Toto", "title": "Rosanna"}, {"artist": "Vicente Fernandez", "title": "El Rey"}, {"artist": "Village People", "title": "YMCA"}, {"artist": "Wisin & Yandel Ft. Aventura", "title": "Noche de sexo"}, {"artist": "Zapato Veloz", "title": "Tractor amarillo"}, {"artist": "Zucchero", "title": "Baila morena"}]</script>
<!-- Librería QRCode (MIT, basada en qrcode.js por Kazuhiko Arase; versión ligera adaptada) -->
<script>
  /*! qrcode.js (lite) – MIT – https://github.com/davidshimjs/qrcodejs */
  /* Minified build inlined for offline use */
  // BEGIN QR LIB
  (function(o){function m(a){this.mode=n,this.data=a}function p(a){this.totalCount=a,this.numData=0,this.numEC=0}function q(a){this.typeNumber=a,this.errorCorrectLevel=h.M,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=a.length-c;this.buf=new Array(this.num+1);for(var d=0;d<this.num;d++)this.buf[d]=a[d+c];this.buf[this.num]=b}function s(a,b){this.rsBlocks=function(a,b){var c;switch(b){case h.L:c=t.RS_BLOCK_TABLE_L;break;case h.M:c=t.RS_BLOCK_TABLE_M;break;case h.Q:c=t.RS_BLOCK_TABLE_Q;break;case h.H:c=t.RS_BLOCK_TABLE_H;break;default:throw new Error("bad rs block @ level: "+b)}var d=c[a-1];if(!d)throw new Error("bad rs block @ typeNumber: "+a);for(var e=[],f=0;f<d.length/3;f++)for(var g=d[3*f+0],i=d[3*f+1],j=d[3*f+2],k=0;k<g;k++)e.push(new p(i,j));return e}(a,b)}function u(a){this.buffer=[],this.length=0,this.put=function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},this.putBit=function(a){this.buffer.push(a?1:0),this.length++}}var n=4,h={L:1,M:0,Q:3,H:2},t={RS_BLOCK_TABLE_L:[[1,26,19],[1,44,34],[1,70,55],[1,100,80],[1,134,108],[2,86,68],[2,98,78],[2,121,97],[2,146,116],[2,86,68],[2,98,78]],RS_BLOCK_TABLE_M:[[1,26,16],[1,44,28],[1,70,44],[2,50,32],[2,67,43],[4,43,27],[2,68,43],[4,81,50],[2,92,36],[4,50,32],[2,86,30]],RS_BLOCK_TABLE_Q:[[1,26,13],[1,44,22],[2,35,17],[2,43,24],[2,60,18],[4,34,14],[4,43,16],[4,81,26],[4,50,20],[4,50,22],[4,50,24]],RS_BLOCK_TABLE_H:[[1,26,9],[1,44,16],[2,35,13],[4,25,9],[2,60,12],[4,34,10],[4,43,12],[2,68,14],[4,50,14],[2,50,12],[2,50,12]]};q.prototype={addData:function(a){this.dataList.push(new m(a)),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1||this.typeNumber>10)throw new Error("typeNumber 1..10 only in lite build");this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){{this.modules[c]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupTimingPattern(),this.setupTypeInfo(a,b),this.mapData(this.createData(this.typeNumber,this.errorCorrectLevel),b)},setupPositionProbePattern:function(a,b){for(var c=-1;c<=7;c++)if(!(0>a+c||this.moduleCount<=a+c))for(var d=-1;d<=7;d++)0>b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=c>=0&&c<=6&&(0==d||6==d)||d>=0&&d<=6&&(0==c||6==c)||c>=2&&c<=4&&d>=2&&d<=4)},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null===this.modules[a][6]&&(this.modules[a][6]=0==a%2),null===this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupTypeInfo:function(a,b){for(var c=this.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;d<15;d++){var e=!a&&1==(c>>d&1);d<6?this.modules[d][8]=e:d<8?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;d<15;d++){e=!a&&1==(c>>d&1);d<8?this.modules[8][this.moduleCount-1-d]=e:d<9?this.modules[8][15-d-1]=e:this.modules[8][15-d]=e}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var i=0;i<2;i++)null===this.modules[d][g-i]&&(this.modules[d][g-i]=f<a.length?1==(a[f]>>>e&1):!1,e--,0>e&&(f++,e=7));if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=t.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createData:function(a,b){for(var c=s.getRSBlocks(a,b),d=new u,e=0;e<this.dataList.length;e++){var f=this.dataList[e];d.put(4,4),d.put(f.data.length,8);for(var g=0;g<f.data.length;g++)d.put(f.data.charCodeAt(g),8)}for(var h=0,i=0;i<c.length;i++)h+=c[i].numData;for(;d.length+4<=8*h;)d.put(0,4);for(;d.length%8!=0;)d.put(0,1);for(var j=0,k=0;k<c.length;k++)j+=c[k].numData;for(var l=new Array(j),m=0;m<l.length;m++)l[m]=255&d.buffer[m];return l},getBCHTypeInfo:function(a){for(var b=a<<10;0<=t.g15(b)-t.g15(1335);)b^=1335<<t.g15(b)-t.g15(1335);return a<<10|b&1023},setupPositionAdjustPattern:function(){},};var t=t||{};t.getBCHDigit=function(a){var b=0;for(;0!=a;)b++,a>>>=1;return b},t.g15=function(a){return t.getBCHDigit(a)},t.PATTERN_POSITION_TABLE=[],t.getLostPoint=function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var f=0,g=-1;g<=1;g++)if(!(d+g<0||b<=d+g))for(var h=-1;h<=1;h++)e+h<0||b<=e+h||(g==h||-g==h?f+=a.isDark(d+g,e+h)?1:-1:f+=a.isDark(d+g,e+h)?1:-1);Math.abs(f)>5&&(c+=3+Math.abs(f)-5)}for(d=0;d<b;d++)for(e=0;e<b;e++)a.isDark(d,e)&&c++;for(d=0;d<b;d++)for(e=0;e<b-6;e++)a.isDark(d,e)&&a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6)&&(c+=40);for(var i=0,j=0,d=0;d<b;d++)for(e=0;e<b;e++)a.isDark(d,e)?i++:j++;return c+10*Math.abs(100*i/(i+j)-50)/5};
  function QRCode(a,b){this._el=a,this._htOption=b,this._qrcode=null,this._canvas=null,this.makeCode=function(a){var b=1;a&&(b=Math.min(10,Math.max(1,Math.ceil(a.length/12)))),this._qrcode=new q(b,h.M),this._qrcode.addData(a),this._qrcode.make();var c=this._qrcode.getModuleCount();this._canvas||(this._canvas=document.createElement("canvas"),this._el.innerHTML="",this._el.appendChild(this._canvas));var d=this._htOption&&this._htOption.width||200;this._canvas.width=d,this._canvas.height=d;var e=Math.floor(d/c),f=(d-e*c)/2,g=this._canvas.getContext("2d");g.clearRect(0,0,d,d),g.fillStyle="#fff",g.fillRect(0,0,d,d),g.fillStyle="#000";for(var i=0;i<c;i++)for(var j=0;j<c;j++)this._qrcode.isDark(i,j)&&g.fillRect(f+i*e,f+j*e,e,e)}}
  o.QRCode=QRCode;
  })(window);
  // END QR LIB
  </script>
<script>
    // Utilidades
    const $_ = (sel, el = document) => el.querySelector(sel);
    const $$_ = (sel, el = document) => Array.from(el.querySelectorAll(sel));
    const data = JSON.parse(document.getElementById('data').textContent || '[]');

    // Normaliza claves comunes (por si el CSV trae variantes)
    const guessKey = (...candidates) => {
      const row = data[0] || {};
      const keys = Object.keys(row).map(k => k.toLowerCase());
      for (const c of candidates) {
        const idx = keys.indexOf(c.toLowerCase());
        if (idx !== -1) return Object.keys(row)[idx];
      }
      // fallback: primera columna
      return Object.keys(row)[0];
    };

    const ARTIST_KEY = guessKey('artist','artista','singer','autor');
    const TITLE_KEY  = guessKey('title','titulo','título','song');
    // Estado
    let state = {
      q: new URLSearchParams(location.search).get('q') || '',
      sort: new URLSearchParams(location.search).get('sort') || 'artist',
    };

    // Elementos
    const $search = $_('#search');
    const $sort = $_('#sort');
    const $grid = $_('#grid');
    const $empty = $_('#empty');
    const $qrcode = new QRCode($_('#qrcode'), { width: 140, height: 140 });
    const $copyLink = $_('#copyLink');

    // Inicializar UI
    $search.value = state.q;
    $sort.value = state.sort;

    // Filtrar + ordenar
    function apply() {
      const q = $search.value.trim().toLowerCase();
      const s = $sort.value;
      const filtered = data.filter(row => {
        const artist = String(row[ARTIST_KEY] || '').toLowerCase();
        const title  = String(row[TITLE_KEY]  || '').toLowerCase();
        return !q || artist.includes(q) || title.includes(q);
      }).sort((a,b) => {
        const ka = String(a[s === 'artist' ? ARTIST_KEY : TITLE_KEY] || '').toLowerCase();
        const kb = String(b[s === 'artist' ? ARTIST_KEY : TITLE_KEY] || '').toLowerCase();
        return ka.localeCompare(kb, 'es', { sensitivity: 'base' });
      });

      render(filtered);

      // URL + QR actualizados
      const u = new URL(location.href);
      if (q) u.searchParams.set('q', q); else u.searchParams.delete('q');
      if (s !== 'artist') u.searchParams.set('sort', s); else u.searchParams.delete('sort');
      history.replaceState(null, '', u.toString());
      $qrcode.makeCode(u.toString());
      $copyLink.onclick = (e) => { e.preventDefault(); navigator.clipboard.writeText(u.toString()); };
    }

    function render(rows) {
      $grid.innerHTML = '';
      if (rows.length === 0) {
        $empty.style.display = 'block';
        return;
      }
      $empty.style.display = 'none';
      const frag = document.createDocumentFragment();
      rows.forEach(r => {
        const card = document.createElement('article');
        card.className = 'card';
        const artistTxt = (r[ARTIST_KEY] || '');
        const titleTxt = (r[TITLE_KEY] || '');
        const songTitle = `${artistTxt ? artistTxt + ' – ' : ''}${titleTxt}`.trim();
        card.innerHTML = `
          <div class="artist">${escapeHtml(r[ARTIST_KEY] || '')}</div>
          <div class="title-txt">${escapeHtml(r[TITLE_KEY] || '')}</div>
          `;
        card.addEventListener('click', async () => {
          const user = prompt("Tu nombre o nick:");
          if (!user) return;
          try {
            await fetch(API_URL, {
              method: 'POST',
              headers: {'Content-Type': 'application/json'},
              body: JSON.stringify({ user, song: songTitle })
            });
            loadQueue();
          } catch (err) {
            alert('No se pudo añadir a la cola');
          }
        });
        frag.appendChild(card);
      });
      $grid.appendChild(frag);
    }

    function escapeHtml(str) {
      return String(str)
        .replace(/&/g,'&amp;')
        .replace(/</g,'&lt;')
        .replace(/>/g,'&gt;')
        .replace(/"/g,'&quot;')
        .replace(/'/g,'&#039;');
    }

    // Eventos
    $search.addEventListener('input', apply);
    document.getElementById('clear').addEventListener('click', () => { $search.value=''; 
// --- Cola pública (Google Sheets) ---
const API_URL = 'https://script.google.com/macros/s/AKfycbz945JI4rHH6SRA17HIlSc-wnPxFelf9UMKu-QN7roincHK5R32oH_vYmIx3bi-IX6Y/exec';

async function loadQueue() {
  try {
    const res = await fetch(API_URL);
    const rows = await res.json();
    const ul = document.getElementById('queueList');
    if (ul) {
      ul.innerHTML = rows.map(r => `<li><strong>${r.usuario}</strong> – ${r.cancion}</li>`).join('');
    }
  } catch(e) { console.warn('No se pudo leer la cola', e); }
}

function addToQueue(user, song) {
  return fetch(API_URL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ user, song })
  }).then(() => loadQueue());
}

setInterval(loadQueue, 5000);
document.addEventListener('DOMContentLoaded', loadQueue);

// Carga opcional de songs.json para sobreescribir los datos embebidos
fetch('songs.json').then(r => r.ok ? r.json() : Promise.reject()).then(json => {
  data.splice(0, data.length, ...json);
  apply();
}).catch(() => {});

apply(); });
    $sort.addEventListener('change', apply);
    document.getElementById('share').addEventListener('click', async () => {
      const u = new URL(location.href);
      if ($search.value.trim()) u.searchParams.set('q', $search.value.trim());
      if ($sort.value !== 'artist') u.searchParams.set('sort', $sort.value);
      const url = u.toString();
      try {
        if (navigator.share) {
          await navigator.share({ title: document.title, url });
        } else {
          await navigator.clipboard.writeText(url);
          alert('Enlace copiado al portapapeles');
        }
      } catch(e) { console.log(e); }
    });

        // Primera render
    
// --- Cola pública (Google Sheets) ---
const API_URL = 'https://script.google.com/macros/s/AKfycbz945JI4rHH6SRA17HIlSc-wnPxFelf9UMKu-QN7roincHK5R32oH_vYmIx3bi-IX6Y/exec';

async function loadQueue() {
  try {
    const res = await fetch(API_URL);
    const rows = await res.json();
    const ul = document.getElementById('queueList');
    if (ul) {
      ul.innerHTML = rows.map(r => `<li><strong>${r.usuario}</strong> – ${r.cancion}</li>`).join('');
    }
  } catch(e) { console.warn('No se pudo leer la cola', e); }
}

function addToQueue(user, song) {
  return fetch(API_URL, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ user, song })
  }).then(() => loadQueue());
}

setInterval(loadQueue, 5000);
document.addEventListener('DOMContentLoaded', loadQueue);

// Carga opcional de songs.json para sobreescribir los datos embebidos
fetch('songs.json').then(r => r.ok ? r.json() : Promise.reject()).then(json => {
  data.splice(0, data.length, ...json);
  apply();
}).catch(() => {});

apply();
  </script>
</body>
</html>
